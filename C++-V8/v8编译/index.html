<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-C++-V8/v8编译" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">v8编译 | Programming tech</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://huiruo.github.io/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://huiruo.github.io/img/logo.svg"><meta data-rh="true" property="og:url" content="https://huiruo.github.io/C++-V8/v8编译"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="v8编译 | Programming tech"><meta data-rh="true" name="description" content="系统环境要求"><meta data-rh="true" property="og:description" content="系统环境要求"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://huiruo.github.io/C++-V8/v8编译"><link data-rh="true" rel="alternate" href="https://huiruo.github.io/C++-V8/v8编译" hreflang="en"><link data-rh="true" rel="alternate" href="https://huiruo.github.io/C++-V8/v8编译" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.0527b3af.css">
<link rel="preload" href="/assets/js/runtime~main.4d532701.js" as="script">
<link rel="preload" href="/assets/js/main.d2cdf6ab.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">programming-tech</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Main</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/huiruo/programming-tech-website/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Readme</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/React概览">React概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Vue概览">Vue概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/React/编译阶段-jsx-ast">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Vue/vue3/库-状态管理">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/JavaScript/继承/es6-extends">JavaScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/html-css/css-1-块级元素-css">html-css</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/webGL/webgl与canvas-性能-动画区别">webGL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/animation/requestAnimationFrame/requestAnimationFrame-是宏任务吗">animation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/http-browser-promise/promise/promise基础">http-browser-promise</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/parsing-interpretation-compilation/模块化/esm">parsing-interpretation-compilation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/webpack-AST-Babel/AST">webpack-AST-Babel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SSR-Nodejs/react-ssr渲染">SSR-Nodejs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/web-optimization/总结">web optimization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/C++-V8/v8/v8基础">C++-V8</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/C++-V8/v8/v8基础">v8基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/C++-V8/编译工具-depot_tools">编译工具-depot_tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/C++-V8/v8编译">v8编译</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/C++-V8/chromium/chromium编译">chromium编译</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/C++-V8/gn命令">gn命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/C++-V8/Safari-Chrome">Safari-Chrome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/C++-V8/electron-tauri">electron-tauri</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/C++-V8/visual studio入门">visual studio入门</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/C++-V8/C++/start">C++</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/backend/nextjs/">backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docker/Docker基础">docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/design-patterns/">design patterns</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/regular-string/正则-基础">regular-string</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/build-monorepo-turbopack/monorepo">monorepo-turbopack</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">C++-V8</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">v8编译</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>v8编译</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="系统环境要求">系统环境要求<a href="#系统环境要求" class="hash-link" aria-label="Direct link to 系统环境要求" title="Direct link to 系统环境要求">​</a></h2><p>操作系统 win 10 64bit,VS2019社区版
windows 10 SDK</p><p>系统环境变量</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">DEPOT_TOOLS_WIN_TOOLCHAIN = 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="python">python<a href="#python" class="hash-link" aria-label="Direct link to python" title="Direct link to python">​</a></h2><p>C:\Users\chenh\AppData\Local\Programs\Python\Python311</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="git">git<a href="#git" class="hash-link" aria-label="Direct link to git" title="Direct link to git">​</a></h2><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 禁用自动转换</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global core.autocrlf </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global core.filemode </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 非必须，在 config 中设置 rebase 选项，使得 git pull 使用 rebase 整合所做修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># https://www.jianshu.com/p/280a04fc2e2b</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global pull.rebase </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global branch.autosetuprebase always</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Git对文件的访问权限的管理与配置选项core.filemode有关。core.filemode选项默认true，即区分文件的执行权限，校验Git的Index中和工作目录中的文件权限。</p><ol><li>查看filemode选项
git config --get core.filemode
或
git config core.filemode</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="执行">执行<a href="#执行" class="hash-link" aria-label="Direct link to 执行" title="Direct link to 执行">​</a></h2><p>第二个报错无关</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">&gt;</span><span class="token plain">gclient </span><span class="token function" style="color:rgb(80, 250, 123)">sync</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Updating depot_tools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">C:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">zip-app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">depot_tools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">.versions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">.cipd_client.exe.cipd_version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">C:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">zip-app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">depot_tools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">.versions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">.cipd_client.exe.cipd_version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Syncing projects: </span><span class="token number">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">29</span><span class="token plain">/29</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">________ running </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;cipd ensure -log-level error -root C:\C-workspace\V8-2 -ensure-file C:\Users\chenh\AppData\Local\Temp\tmpzkxe1n2g.ensure&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;.&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">C:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">zip-app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">depot_tools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">.versions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">.cipd_client.exe.cipd_version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Running hooks: </span><span class="token number">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">32</span><span class="token plain">/32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">, done.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="报错">报错<a href="#报错" class="hash-link" aria-label="Direct link to 报错" title="Direct link to 报错">​</a></h2><p>Windows Software Development Kit</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Exception: Path </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;C:\Program Files (x86)\Windows Kits</span><span class="token string entity" style="color:rgb(255, 121, 198)">\10</span><span class="token string" style="color:rgb(255, 121, 198)">\include</span><span class="token string entity" style="color:rgb(255, 121, 198)">\10</span><span class="token string" style="color:rgb(255, 121, 198)">.0.20348.0\shared&quot;</span><span class="token plain"> from environment variable </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;include&quot;</span><span class="token plain"> does not exist. Make sure the necessary SDK is installed.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>解决方法就是在Visual Studio Installer-单个组件-中安装10.0.20348.0版本的SDK,注意： 10.0.20348.0版本的SDK安装成功后别忘了安装SDK调试工具</p><p>工程生成成功</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">E:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">webrtc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">webrtc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">src</span><span class="token operator">&gt;</span><span class="token plain">gn gen --ide</span><span class="token operator">=</span><span class="token plain">vs2019 out/Default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Generating Visual Studio projects took 1226ms</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Done. Made </span><span class="token number">1520</span><span class="token plain"> targets from </span><span class="token number">282</span><span class="token plain"> files </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> 9194ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>打开out/Default目录就能看见vs工程文件了！
<img loading="lazy" src="/assets/images/用VS2019编译V8-1-fa68aaa07f29c9c8be5d9f8bff9f8c3d.png" width="806" height="212" class="img_ev3q"></p><p>在此之后，就可在Visual Studio中对webrtc进行调试了</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="编译代码两种方式">编译代码,两种方式：<a href="#编译代码两种方式" class="hash-link" aria-label="Direct link to 编译代码,两种方式：" title="Direct link to 编译代码,两种方式：">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="方式1命令方式">方式1：命令方式<a href="#方式1命令方式" class="hash-link" aria-label="Direct link to 方式1：命令方式" title="Direct link to 方式1：命令方式">​</a></h3><p><a href="https://v8.dev/docs/embed" target="_blank" rel="noopener noreferrer">https://v8.dev/docs/embed</a></p><ul><li><p>gn args out.gn/x64.release.sample（会弹出一个文件需要你编辑，编辑完后关闭就会根据你填写的参数生成一些配置文件）</p></li><li><p>ninja -C out.gn/x64.release.sample v8_monolith，再通过命令就可以生成静态库了，大概需要编译十几分钟</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="方式2vs工程方式">方式2：vs工程方式<a href="#方式2vs工程方式" class="hash-link" aria-label="Direct link to 方式2：vs工程方式" title="Direct link to 方式2：vs工程方式">​</a></h3><h5 class="anchor anchorWithStickyNavbar_LWe7" id="生成gn工程文件">生成GN工程文件<a href="#生成gn工程文件" class="hash-link" aria-label="Direct link to 生成GN工程文件" title="Direct link to 生成GN工程文件">​</a></h5><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> ~</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">v8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">src </span><span class="token comment" style="color:rgb(98, 114, 164)"># 进入v8 src目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gn gen --ide</span><span class="token operator">=</span><span class="token plain">vs out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">default --args</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;is_component_build = true is_debug = true v8_optimized_debug = false&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">C:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">C-workspace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">V8-2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">v8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">src</span><span class="token operator">&gt;</span><span class="token plain">gn gen --ide</span><span class="token operator">=</span><span class="token plain">vs out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">default --args</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;is_component_build = true is_debug = true v8_optimized_debug = false&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Generating Visual Studio projects took 148ms</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Done. Made </span><span class="token number">187</span><span class="token plain"> targets from </span><span class="token number">100</span><span class="token plain"> files </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> 4770ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>gn命令不是本文重点，可自行查阅，参数：is_debug = true 让v8可以被调试，v8_optimized_debug = false 去掉对调试v8有干扰的代码优化，这不会影响v8的正确性，只可能对性能有点影响,下文是我的编译配置文件args.gn。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">is_component_build = true  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">is_debug = true  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">v8_optimized_debug = false  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">v8_use_snapshot = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>或则：</p><ol><li>通过命令生成vs工程all.sln</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gn gen --ide</span><span class="token operator">=</span><span class="token plain">vs out.gn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">x64_solution</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>打开工程然后编译你需要的项目</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">vs工程方式的话，直接编译v8_hello_world这个项目，然后会在out.gn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">x64_solution这个目录下生成</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">v8_hello_world.exe</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="build-gn_all">build gn_all<a href="#build-gn_all" class="hash-link" aria-label="Direct link to build gn_all" title="Direct link to build gn_all">​</a></h4><p>编译之，最后即可调试out\Default\d8.exe。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="例子1hellow-world">例子1:hellow world<a href="#例子1hellow-world" class="hash-link" aria-label="Direct link to 例子1:hellow world" title="Direct link to 例子1:hellow world">​</a></h3><p>V8代码量大、结构复杂、类引用的层级关系多，要有一个合理的入口才好，v8的源码都在src目录下，如下图。</p><p>除了src目录，我们看到还有一个samples目录，它就是我们开始学习的地方，图1中打开的文件(hello-world.cc)正是在这个目录下，这个hello world程序是用C++编写的，包括了启动V8，然后运行一个javascript语言的hello world，还有一个加法运算。准确地说，V8是一个javascript虚拟机，这个hello word.cc中仅有”hello world”和加法算法是一个真正的javascript程序，其它的代码都是为了运行javascript程序而做的准备工作(启动V8虚拟机)，包括了V8的创建、Isolate创建、handle创建，编译，输出hello world，再结束V8的全过程。这里只包括了V8最简单最必要的功能集，所以，从跟踪hello-world.cc入手学习V8是最简单的。</p><p>在src\out\default下，能看到all.sln，双击打开,如图-1。
能看到v8_hello_world这个方案，鼠标右击“设为启动项目”，再次鼠标右击“生成”，这样就开始编译了，在图1下方的输出窗口，能看到编译过程。编译时间长短要看机器性能：CPU和内存频率、硬盘读写速度。
<img loading="lazy" src="/assets/images/用VS2019编译V8-b263ac67ac56743a8fe955579f765c9d.png" width="1913" height="1036" class="img_ev3q"></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1966</span><span class="token operator">/</span><span class="token number">1967</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">LINK</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token constant" style="color:rgb(189, 147, 249)">DLL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> v8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">dll</span><span class="token plain"> v8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">dll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">lib</span><span class="token plain"> v8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">dll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">pdb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1967</span><span class="token operator">/</span><span class="token number">1967</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">LINK</span><span class="token plain"> v8_hello_world</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exe</span><span class="token plain"> v8_hello_world</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">pdb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span><span class="token plain"> 生成</span><span class="token operator">:</span><span class="token plain"> 成功 </span><span class="token number">1</span><span class="token plain"> 个，失败 </span><span class="token number">0</span><span class="token plain"> 个，最新 </span><span class="token number">0</span><span class="token plain"> 个，跳过 </span><span class="token number">0</span><span class="token plain"> 个 </span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAj4AAABEBAMAAABzOiIRAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURQwMDMzMzIWFhVFRUaKiorS0tGdnZyoqKsLCwpSUlHh4eJIJ4+YAAAb9SURBVHja7VvNU9tWEF9bsgWckORPTrJCArlJmKSlJ8kxlN4wAQI3m48mk5MMOdCegBRobzBpCkdnpp3pn9ndfZIM/grQdpqO3m8mIN7b1e77vbe70sYGkJCQkPjPMe/8c1rKi9Eydxn50pC5GDqlevfV2hotc3tEc+KRlCWG0g0znnZ1S8iMcIxkFN0Y5mU0ZTzkBOirwqUi3cjPW/fih7Twn1LQrktCE2/RhEoQzv9wfCLu3Kd146/JeCTip1KbiacPXEvIdAmNbMWOkYxWHbr8aOoB/GTzO9e8GO0Ef7Q2Fs7vxQ9pKQV0Xy3MTfHI2MZ8EQ4jlv2dSofv3Kd1m59wJOJn/eZ8KuQnHZEe2+o6xoojlv9gfjKvQAP4hMeXaFoPIBAuVw5MmM03FX3p2EI31mC/oTfVmn4Fbv4KYE9/AenjDaF1AhkPZXJi7aBNwTiy7DbhMqhDymMZUndzbwzINnIOj5B6ylPMtK5jdNDIu1LLIqO8EEXfCvCWrkNrZ5mxXJP2YrwY20J/LOFGzA+r0wlMF12HptgoTWn+WcgPymjrcOjFwiPgssQl/myz9TBgi4/nitncY1N7Vt82VU8z8Mjbgbo2Z8D+dA5PnX0KlUeVJmnBR2h30mc/xspToOF1xoOfYPb1JyFD6gdrSxWntTq7wiOtWsMhfrQFsxrwyPL3vpU25gpatVx1NNv3Yn6EzG5pBjdqzIttqVsLBeFGxA/5LNa1/7ISkAk2SlPq2a7gh0yAay0GfPE5fjjxKWRsBRSTc52uK+Z325OZFa0MqqkZqpc2wccNVo9gGSU+BXjqvsIkjBuJWtAKWgH8WcLDputhLlmkX0j3xPEZ35nVwXfa1nqgBDyyDu0L4kfkFhzBc+damKjrdFowciaKMT9h/tk/xsyGO4q2BD9HuHB2I+KHfeZ1zf9WYRNslKbaHcWIqkMdSTLFxZ34YY4Kgp+DarWqmRu2l7rA3VLRMXXVv4BWboYcqcB+Hfed3OFV0JFrdz5C1nj6XkNNvN3XFh9LpZA+gpZ97bAMqYMf5QAaKeMJ6/IjrKeslK7nRDhML5o9/Gh/5PHGs2wryj+GcCPih30mtJ9tT7MJNkpTrhPmH2GiYYUXd4kvxlo3vqDwsn6DH113QPv9uEn8aKf2pZOiclxmNtbIzRPAPVoMeT4FDi7YylxgXNJRQRlSZ1fLoa0efsg68/OhWuXlHK4+7eEn6//i4J5vdW0xP+xGHz+pvfn6MH7YhG+FF6Mx9iqKL2g5cBqViK1v65aIL+LHO1yhLfHwPF/jKlpO5lysUWhNvDcxMuBa5OcKuZrFkzjbbuKJHj9iGVJnVzeDUEvE14QZ1vaWo3B8efFyssQPVg7aDJJJLVHyOC90bTE/7IbYsBvxlfn1XS2MLxBTLseXIvZOxJd3p/q+LfIzhWNr47mosIvWz02Rn00H3ZgwwLb9DubnslJ+7l9lS/YTaC09D1hLyR1B5mxOODaWt23xhNjGXLW5U7lgGVI/aOB2tU7sprCFyVM1psuBkrc7PLKJ+Tmb23kt+PmwWw5827+CjGEDyWhM/01bzA+7QTLQsK04P6urY2dsgo3SVIbzM66UTVB+FrY++3yYE/Wdn/N8XXDqW75D5S9NwY1ubAaX+BzJ9X027xpY3wtYqUuO2NmGB9pyaSaKbp3qK/qMi3h3fBKwDKlXyFQWCz2PUPFV/BdYoffIKI7Ml97QH++Zn/TxS92az6EtpWGAkCE0Lrq2mB92g2We6VZcslVDNdkEG6UpxT87EStFE6K+s607o/857i4PikO0Dq2RMncZGYmwVt5z6u/h7UP4GaKV7YyWeXt/6z2vDFwd7jn1L0P1QEJCQkJC4ovCZ1qU3VZnt4uVBOBa6yNalFTRjdutTtZRzKTxM7hFSW/fxu1Wp+CnmCR+BrcoRaN17qAQN1pZhrugymSS+Bncogwb0VUzbrSyDHVBE8RPzV4b0qLk1yiz/qQYN1q5FUxdmgTxQz3GwS1Kfhc2a/Zk3EgMM3MqafE1uEXJ78IFs7YygB/NShI/g1uUDON8zYsbrSTDXVAAJ0n8DGhRVkIC1r28FzdaWYa6oDBeSBI/A1qUlXDe9xpW3GhlGe6CTiTl+XAYFuUb10jUJQUjYUgKJCQkJCQk/rdQlku9r5qPepun9ImyZkL5UZcWwlepdMiKMtXHT80+TfAJ6uEna4b8uOKTKnhhacl9XNT2rNv8pCdDfuiDiHyx7yT4ddTNObdPi7rS/583mZXkxtd8eFoWpsRpSV308+N25KtoFF/uh2+mglsnCrrfp0hiAurhp6XTx3lv5p+e70MkChM7u1Fdj78y0xdf2UJi+RnXc32Pfn38jBdBQkJCQkJCQkJCQkJCQkJC4svEX+5baUaIysQaAAAAAElFTkSuQmCC" width="574" height="68" class="img_ev3q"></p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Create a string containing the JavaScript source code.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::Local&lt;v8::String&gt; source =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v8::String::NewFromUtf8Literal(isolate, &quot;&#x27;Hello&#x27; + &#x27;, World!&#x27;&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-C++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;stdio.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;stdlib.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;string.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;include/libplatform/libplatform.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;include/v8-context.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;include/v8-initialization.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;include/v8-isolate.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;include/v8-local-handle.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;include/v8-primitive.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;include/v8-script.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int main(int argc, char* argv[]) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Initialize V8.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v8::V8::InitializeICUDefaultLocation(argv[0]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v8::V8::InitializeExternalStartupData(argv[0]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  std::unique_ptr&lt;v8::Platform&gt; platform = v8::platform::NewDefaultPlatform();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v8::V8::InitializePlatform(platform.get());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v8::V8::Initialize();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Create a new Isolate and make it the current one.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v8::Isolate::CreateParams create_params;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create_params.array_buffer_allocator =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::ArrayBuffer::Allocator::NewDefaultAllocator();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v8::Isolate* isolate = v8::Isolate::New(create_params);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    v8::Isolate::Scope isolate_scope(isolate);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create a stack-allocated handle scope.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    v8::HandleScope handle_scope(isolate);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create a new context.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    v8::Local&lt;v8::Context&gt; context = v8::Context::New(isolate);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Enter the context for compiling and running the hello world script.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    v8::Context::Scope context_scope(context);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Create a string containing the JavaScript source code.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::Local&lt;v8::String&gt; source =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v8::String::NewFromUtf8Literal(isolate, &quot;&#x27;Hello&#x27; + &#x27;, World!&#x27;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Compile the source code.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::Local&lt;v8::Script&gt; script =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v8::Script::Compile(context, source).ToLocalChecked();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Run the script to get the result.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::Local&lt;v8::Value&gt; result = script-&gt;Run(context).ToLocalChecked();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Convert the result to an UTF8 string and print it.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::String::Utf8Value utf8(isolate, result);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      printf(&quot;%s\n&quot;, *utf8);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Use the JavaScript API to generate a WebAssembly module.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // |bytes| contains the binary format for the following module:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      //     (func (export &quot;add&quot;) (param i32 i32) (result i32)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      //       get_local 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      //       get_local 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      //       i32.add)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      const char csource[] = R&quot;(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let bytes = new Uint8Array([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          0x00, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00, 0x01, 0x07, 0x01,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          0x60, 0x02, 0x7f, 0x7f, 0x01, 0x7f, 0x03, 0x02, 0x01, 0x00, 0x07,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          0x07, 0x01, 0x03, 0x61, 0x64, 0x64, 0x00, 0x00, 0x0a, 0x09, 0x01,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          0x07, 0x00, 0x20, 0x00, 0x20, 0x01, 0x6a, 0x0b</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let module = new WebAssembly.Module(bytes);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let instance = new WebAssembly.Instance(module);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        instance.exports.add(3, 4);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      )&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Create a string containing the JavaScript source code.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::Local&lt;v8::String&gt; source =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v8::String::NewFromUtf8Literal(isolate, csource);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Compile the source code.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::Local&lt;v8::Script&gt; script =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v8::Script::Compile(context, source).ToLocalChecked();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Run the script to get the result.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      v8::Local&lt;v8::Value&gt; result = script-&gt;Run(context).ToLocalChecked();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Convert the result to a uint32 and print it.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      uint32_t number = result-&gt;Uint32Value(context).ToChecked();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      printf(&quot;3 + 4 = %u\n&quot;, number);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Dispose the isolate and tear down V8.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isolate-&gt;Dispose();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v8::V8::Dispose();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  v8::V8::DisposePlatform();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  delete create_params.array_buffer_allocator;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="例子2调试shellcc">例子2:调试shell.cc<a href="#例子2调试shellcc" class="hash-link" aria-label="Direct link to 例子2:调试shell.cc" title="Direct link to 例子2:调试shell.cc">​</a></h3><p>它的位置在samples\下,只是因为shell的交互性更强，让你看到”动起来”的效果更明显,这个工程设置为启动项，然后生成;
这时，我们在elements.cc中下断点，如下图。</p><p>在这样图中，能看到断点，还有调用堆栈，从中能看到函数的调用过程，在shell窗口中执行如下指令。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">a</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// 特意改变数组长度，为了能触发断点</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-C++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">static Maybe&lt;bool&gt; SetLengthImpl(Isolate* isolate, Handle&lt;JSArray&gt; array,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                  uint32_t length,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                  Handle&lt;FixedArrayBase&gt; backing_store) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  DCHECK(!array-&gt;SetLengthWouldNormalize(length));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  DCHECK(IsFastElementsKind(array-&gt;GetElementsKind()));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  uint32_t old_length = 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  CHECK(array-&gt;length().ToArrayIndex(&amp;old_length));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (old_length &lt; length) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ElementsKind kind = array-&gt;GetElementsKind();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (!IsHoleyElementsKind(kind)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      kind = GetHoleyElementsKind(kind);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      JSObject::TransitionElementsKind(array, kind);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // 省略</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/用VS2019编译V8-3-6609bc3c00794598607aa73ce0fae0e4.png" width="1705" height="866" class="img_ev3q"></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">join</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;-&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 1-2-3-4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1-2-3-4&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">split</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;-&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">value</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> key</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> value </span><span class="token operator">*</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 1,4,9,16</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/huiruo/programming-tech-website/edit/main/programming-tech/C++-V8/03-v8编译.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/C++-V8/编译工具-depot_tools"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">编译工具-depot_tools</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/C++-V8/chromium/chromium编译"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">chromium编译</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#系统环境要求" class="table-of-contents__link toc-highlight">系统环境要求</a></li><li><a href="#python" class="table-of-contents__link toc-highlight">python</a></li><li><a href="#git" class="table-of-contents__link toc-highlight">git</a></li><li><a href="#执行" class="table-of-contents__link toc-highlight">执行</a></li><li><a href="#报错" class="table-of-contents__link toc-highlight">报错</a></li><li><a href="#编译代码两种方式" class="table-of-contents__link toc-highlight">编译代码,两种方式：</a><ul><li><a href="#方式1命令方式" class="table-of-contents__link toc-highlight">方式1：命令方式</a></li><li><a href="#方式2vs工程方式" class="table-of-contents__link toc-highlight">方式2：vs工程方式</a></li><li><a href="#例子1hellow-world" class="table-of-contents__link toc-highlight">例子1:hellow world</a></li><li><a href="#例子2调试shellcc" class="table-of-contents__link toc-highlight">例子2:调试shell.cc</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.4d532701.js"></script>
<script src="/assets/js/main.d2cdf6ab.js"></script>
</body>
</html>