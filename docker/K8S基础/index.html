<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docker/K8S基础" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">K8S基础 | Programming tech</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://huiruo.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://huiruo.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://huiruo.github.io/docker/K8S基础"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="K8S基础 | Programming tech"><meta data-rh="true" name="description" content="k8s对象"><meta data-rh="true" property="og:description" content="k8s对象"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://huiruo.github.io/docker/K8S基础"><link data-rh="true" rel="alternate" href="https://huiruo.github.io/docker/K8S基础" hreflang="en"><link data-rh="true" rel="alternate" href="https://huiruo.github.io/docker/K8S基础" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.0527b3af.css">
<link rel="preload" href="/assets/js/runtime~main.347e1e6b.js" as="script">
<link rel="preload" href="/assets/js/main.4c15ccb6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">programming-tech</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Main</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/huiruo/programming-tech-website/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Readme</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/React概览">React概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Vue概览">Vue概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/React/beginWork第3步-Reconciliation-双缓存-diff">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Vue/vue3/库-状态管理">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/JavaScript/B1-深-浅-拷贝">JavaScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/html-css/requestAnimationFrame/requestAnimationFrame-是宏任务吗">html-css</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/http-browserCache/浏览器请求-渲染的流程">http-browserCache</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/parsing-interpretation-compilation/模块化/esm">parsing-interpretation-compilation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/promise-eventLoop-security/promise/promise基础">promise-eventLoop-security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/build-webpack/dynamic-import/动态加载">webpack</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/build-AST-Babel/AST">AST-Babel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/build-monorepo-turbopack/monorepo">monorepo-turbopack</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/SSR-Nodejs/react-ssr渲染">SSR-Nodejs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/web-optimization/总结">web optimization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/C++-V8/v8/v8基础">C++-V8</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/backend/nextjs/">backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docker/Docker基础">docker</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/Docker基础">Docker基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/Docker基础2">Docker基础2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/Dockerfile命令">Dockerfile命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/Docker命令">Docker命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/如何获取docker容器的运行状态">如何获取docker容器的运行状态</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/Harbor">Harbor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docker/K8S基础">K8S基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/Kubernetes">Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/dockerSwarm">dockerSwarm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/dockerignore作用">dockerignore作用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docker/docker中的nginx配置">docker中的nginx配置</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/design-patterns/">design patterns</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/regular-string/正则-基础">regular-string</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">docker</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">K8S基础</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>K8S基础</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="k8s对象">k8s对象<a href="#k8s对象" class="hash-link" aria-label="Direct link to k8s对象" title="Direct link to k8s对象">​</a></h2><p>在 K8S 中，所有资源都是通过声明式配置进行管理的，它们被称作 K8S 对象。以 namespace 为例：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> apiVersion: v1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> kind: Namespace</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> metadata:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   name: demo-space</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> spec:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   finalizers:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   - kubernetes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> status:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   phase: Active</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>常见的 K8S 对象包括 Namespace、Ingress、Service、Development、Pod。其中，Namespace 是一个虚拟的概念，用来对集群划分不同的命名空间。通常，同一个 Namespace 中的资源，其命名应该是唯一的。其他几种类型的资源的关系如下图所示：</p><p><img loading="lazy" src="data:image/png;base64,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" width="630" height="174" class="img_ev3q"></p><p>不同类型的对象所需的配置不完全相同，但他们都应有如下几个基础配置：</p><ul><li>apiVersion - 创建该对象所使用的 Kubernetes API 的版本，不同的版本，对于 yaml 中可使用配置项的字段、格式有不同的要求。</li><li>kind - 想要创建的对象的类别</li><li>metadata - 帮助唯一性标识对象的一些数据</li><li>spec - 你所期望的该对象的状态</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ingress">Ingress<a href="#ingress" class="hash-link" aria-label="Direct link to Ingress" title="Direct link to Ingress">​</a></h2><p>通常一个集群会包含数台物理主机，它们都是集群的节点，这些节点需要一个统一的 IP 进行访问。Ingress 提供了这项能力，它是整个集群的流量入口。</p><p>Ingress 控制器有多种实现，比较常见的是基于 Nginx 实现的。</p><p>Ingress-nginx 文档：<a href="https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/" target="_blank" rel="noopener noreferrer">https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="service">Service<a href="#service" class="hash-link" aria-label="Direct link to Service" title="Direct link to Service">​</a></h2><p>流量从 Ingress 进入集群之后，应该被分配给不同的容器处理。但通常来说，容器的 IP 不是固定的，这是因为在 K8S 中，可以随时增减容器的数量，此时容器 IP 就是动态的。</p><p>Service 是一个抽象概念，它的作用是在 Ingress 和 Pod 之间解藕它们二者的关联。它会动态获取可用的 Pod 的信息，传递给 Ingress，以保证进行正确的负载均衡。</p><p>不论是正常的增减容器数量（扩缩容）还是容器自身因为意外重启，流量总会被分配到可用的容器上。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development">​</a></h2><p>Development 是用于管理副本集和容器配置的。K8S 不建议用户直接操作副本集配置，所以 Development 通常是用户所需要接触的最基础的配置。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">副本集一组以期望的规模稳定运行的容器集合。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过 Development，可以实现如下功能：</p><ul><li>修改副本数量，然后副本集会以修改后的数量自动增删容器</li><li>修改容器配置，此时会采用先启动新的容器，然后关闭旧的容器的方式，依次更新容器。这个阶段，服务一直会处于可用的状态。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pods">Pods<a href="#pods" class="hash-link" aria-label="Direct link to Pods" title="Direct link to Pods">​</a></h2><p>k8s 实际上是一个使用 Docker 容器进行编排的系统，主要围绕 pods 进行工作。</p><p>Pods 是 k8s 生态中最小的调度单位，可以包含一个或多个容器。
同一个 Pod 中的不同容器之间可以通过<code>localhost:&lt;port&gt;</code>的方式互相访问对方暴露出来的服务，同时，容器之间可以访问共同的数据卷。多容器的使用场景通常是一个主容器加上多个 sidecar，他们彼此配合，共同实现功能需求。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubectl-工具介绍">kubectl 工具介绍<a href="#kubectl-工具介绍" class="hash-link" aria-label="Direct link to kubectl 工具介绍" title="Direct link to kubectl 工具介绍">​</a></h2><p>kubectl 是 K8S 提供的命令行工具，使得用户可以在本地对 K8S 集群发送操作指令。</p><p>安装完成后，创建配置文件：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">touch $HOME/.kube/config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> apiVersion: v1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> # 集群配置，可以是多个；集群必须包含 server 字段</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> clusters:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   - cluster:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       server: https://dami.net</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     name: dami-c3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> # 上下文配置，可以是多个，每个上下文必须包含集群名称、namespace 名称、用户名</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> contexts:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   - context:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       cluster: dami-c3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       namespace: demo-space</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       user: manooog</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     name: c3-demo-space-context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> # 当前默认的上下文配置，所有 kubectl 命令，都会默认使用这个上下文</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> current-context: c3-demo-space-context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> kind: Config</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> # 用户信息，包含用户名和对应的权限信息，可能是 token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> users:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   - name: manooog</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     user:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       token: &lt;yourToken&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="保存好配置之后就可以是使用-kubectl-命令对集群进行操作了">保存好配置之后，就可以是使用 kubectl 命令对集群进行操作了<a href="#保存好配置之后就可以是使用-kubectl-命令对集群进行操作了" class="hash-link" aria-label="Direct link to 保存好配置之后，就可以是使用 kubectl 命令对集群进行操作了" title="Direct link to 保存好配置之后，就可以是使用 kubectl 命令对集群进行操作了">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get ingress # 获取当前 context 中对应的 namespace 中的 Ingress 配置</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kubectl 功能比较多，根据使用习惯的不同，同一个功能也有不同的使用方式。下面列举一些我使用得比较多的命令。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看配置">查看配置<a href="#查看配置" class="hash-link" aria-label="Direct link to 查看配置" title="Direct link to 查看配置">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get service/&lt;xxx&gt; -o yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用配置文件">应用配置文件<a href="#应用配置文件" class="hash-link" aria-label="Direct link to 应用配置文件" title="Direct link to 应用配置文件">​</a></h3><p>上面提到过，K8S 中一切资源都可以从声明式配置中得到。当我们想创建一个资源的时候，可以先创建对应的配置文件。然后使用以下命令使配置生效：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl create -f service.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply -f service.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>以上命令都可以应用配置文件，区别就在在于，create 通常用于第一次创建，apply则用于修改已存在的配置文件。我更倾向于使用 apply 命令。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看-pod-输出">查看 Pod 输出:<a href="#查看-pod-输出" class="hash-link" aria-label="Direct link to 查看 Pod 输出:" title="Direct link to 查看 Pod 输出:">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl logs &lt;pod&gt; &lt;container-name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>获取 Pod 中对应的容器的输出信息。如果 Pod 中只有一个容器，container-name 可以省略。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="进入容器内部命令行环境">进入容器内部命令行环境<a href="#进入容器内部命令行环境" class="hash-link" aria-label="Direct link to 进入容器内部命令行环境" title="Direct link to 进入容器内部命令行环境">​</a></h3><p>如果 Pod 包含多个容器，同样需要使用 -c参数，指定需要进入的容器名称。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl exec -it demo-5b7846d65b-nvnnm -- sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="demo">DEMO<a href="#demo" class="hash-link" aria-label="Direct link to DEMO" title="Direct link to DEMO">​</a></h2><p><a href="https://zhuanlan.zhihu.com/p/445217118" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/445217118</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/huiruo/programming-tech-website/edit/main/programming-tech/docker/06-K8S基础.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docker/Harbor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Harbor</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docker/Kubernetes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kubernetes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#k8s对象" class="table-of-contents__link toc-highlight">k8s对象</a></li><li><a href="#ingress" class="table-of-contents__link toc-highlight">Ingress</a></li><li><a href="#service" class="table-of-contents__link toc-highlight">Service</a></li><li><a href="#development" class="table-of-contents__link toc-highlight">Development</a></li><li><a href="#pods" class="table-of-contents__link toc-highlight">Pods</a></li><li><a href="#kubectl-工具介绍" class="table-of-contents__link toc-highlight">kubectl 工具介绍</a><ul><li><a href="#保存好配置之后就可以是使用-kubectl-命令对集群进行操作了" class="table-of-contents__link toc-highlight">保存好配置之后，就可以是使用 kubectl 命令对集群进行操作了</a></li><li><a href="#查看配置" class="table-of-contents__link toc-highlight">查看配置</a></li><li><a href="#应用配置文件" class="table-of-contents__link toc-highlight">应用配置文件</a></li><li><a href="#查看-pod-输出" class="table-of-contents__link toc-highlight">查看 Pod 输出:</a></li><li><a href="#进入容器内部命令行环境" class="table-of-contents__link toc-highlight">进入容器内部命令行环境</a></li></ul></li><li><a href="#demo" class="table-of-contents__link toc-highlight">DEMO</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.347e1e6b.js"></script>
<script src="/assets/js/main.4c15ccb6.js"></script>
</body>
</html>