"use strict";(self.webpackChunkprogramming_technology=self.webpackChunkprogramming_technology||[]).push([[7371],{3905:(e,t,n)=>{n.d(t,{Zo:()=>i,kt:()=>g});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},i=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},f="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,i=c(e,["components","mdxType","originalType","parentName"]),f=s(n),m=o,g=f["".concat(p,".").concat(m)]||f[m]||u[m]||a;return n?r.createElement(g,l(l({ref:t},i),{},{components:n})):r.createElement(g,l({ref:t},i))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=m;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c[f]="string"==typeof e?e:o,l[1]=c;for(var s=2;s<a;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},39676:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>c,toc:()=>s});var r=n(87462),o=(n(67294),n(3905));const a={title:"Reflect\u7528\u6cd5",sidebar_position:7},l=void 0,c={unversionedId:"Vue/Reflect",id:"Vue/Reflect",title:"Reflect\u7528\u6cd5",description:"\u5e94\u75281\uff1a",source:"@site/programming-tech/Vue/05-Reflect.md",sourceDirName:"Vue",slug:"/Vue/Reflect",permalink:"/Vue/Reflect",draft:!1,editUrl:"https://github.com/huiruo/programming-tech-website/programming-tech/Vue/05-Reflect.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Reflect\u7528\u6cd5",sidebar_position:7},sidebar:"docs",previous:{title:"proxy-defineProperty\u533a\u522b",permalink:"/Vue/proxy-defineProperty\u533a\u522b"},next:{title:"\u57fa\u7840-\u6307\u4ee4-\u5728html\u4e2d\u4f7f\u7528",permalink:"/Vue/\u57fa\u7840-\u6307\u4ee4-\u5728html\u4e2d\u4f7f\u7528"}},p={},s=[{value:"\u5e94\u75281\uff1a",id:"\u5e94\u75281",level:2},{value:"\u5e94\u75282\uff1a",id:"\u5e94\u75282",level:2},{value:"Reflect\u662fECMAScript2015 Reflect \u662f\u4e00\u4e2a\u5185\u7f6e\u7684\u5bf9\u8c61\uff0c\u5b83\u63d0\u4f9b\u62e6\u622a JavaScript \u64cd\u4f5c\u7684\u65b9\u6cd5\uff0c\u662f ES6 \u4e3a\u4e86\u64cd\u4f5c\u5bf9\u8c61\u800c\u63d0\u4f9b\u7684\u65b0 API\u3002",id:"reflect\u662fecmascript2015-reflect-\u662f\u4e00\u4e2a\u5185\u7f6e\u7684\u5bf9\u8c61\u5b83\u63d0\u4f9b\u62e6\u622a-javascript-\u64cd\u4f5c\u7684\u65b9\u6cd5\u662f-es6-\u4e3a\u4e86\u64cd\u4f5c\u5bf9\u8c61\u800c\u63d0\u4f9b\u7684\u65b0-api",level:2},{value:"\u4f8b\u5b502\uff1a\u5bf9\u8c61\u8bfb\u53d6\u64cd\u4f5c",id:"\u4f8b\u5b502\u5bf9\u8c61\u8bfb\u53d6\u64cd\u4f5c",level:3},{value:"api",id:"api",level:2},{value:"\u5e94\u75283\uff1a",id:"\u5e94\u75283",level:2},{value:"\u5e94\u75284",id:"\u5e94\u75284",level:2},{value:"\u5e94\u75285",id:"\u5e94\u75285",level:2},{value:"\u5e94\u75286",id:"\u5e94\u75286",level:2}],i={toc:s},f="wrapper";function u(e){let{components:t,...a}=e;return(0,o.kt)(f,(0,r.Z)({},i,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\u5e94\u75281"},"\u5e94\u75281\uff1a"),(0,o.kt)("p",null,"\u8ba9 Object \u64cd\u4f5c\u90fd\u53d8\u6210\u51fd\u6570\u884c\u4e3a\u3002\u67d0\u4e9b Object \u64cd\u4f5c\u662f\u547d\u4ee4\u5f0f\uff0c\u6bd4\u5982 ",(0,o.kt)("inlineCode",{parentName:"p"},"name in obj")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"delete obj[name]"),"\uff0c\u800c ",(0,o.kt)("inlineCode",{parentName:"p"},"Reflect.has(obj, name)"),"\u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"Reflect.deleteProperty(obj, name)")," \u8ba9\u5b83\u4eec\u53d8\u6210\u4e86\u51fd\u6570\u884c\u4e3a\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"let obj1 = { name: 1, test: 2 }\nReflect.deleteProperty(obj1, 'name')\nconsole.log('test1', obj1)\n")),(0,o.kt)("h2",{id:"\u5e94\u75282"},"\u5e94\u75282\uff1a"),(0,o.kt)("p",null,"\u56e0\u4e3a ",(0,o.kt)("inlineCode",{parentName:"p"},"Reflect.get()"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"Reflect.set()")," \u5177\u6709\u8fd4\u56de\u503c\uff0c\u5e76\u4e14 Proxy \u7684 handler \u7684 get\u3001set \u4e5f\u8981\u6c42\u6709\u8fd4\u56de\u503c\uff0c\u6240\u4ee5\u8fd9\u65f6\u4f7f\u7528 Reflect \u518d\u5408\u9002\u4e0d\u8fc7\u4e86"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const proxy = new Proxy(obj, {\n    get(target, key,) {\n        return Reflect.get(target, key)\n    },\n    set(target, key, value) {\n        return Reflect.set(target, key, value)\n    }\n})\nproxy.name = 'Tom'\nconsole.log('\u6b63\u5e38\u8fd0\u884c')\n")),(0,o.kt)("h2",{id:"reflect\u662fecmascript2015-reflect-\u662f\u4e00\u4e2a\u5185\u7f6e\u7684\u5bf9\u8c61\u5b83\u63d0\u4f9b\u62e6\u622a-javascript-\u64cd\u4f5c\u7684\u65b9\u6cd5\u662f-es6-\u4e3a\u4e86\u64cd\u4f5c\u5bf9\u8c61\u800c\u63d0\u4f9b\u7684\u65b0-api"},"Reflect\u662fECMAScript2015 Reflect \u662f\u4e00\u4e2a\u5185\u7f6e\u7684\u5bf9\u8c61\uff0c\u5b83\u63d0\u4f9b\u62e6\u622a JavaScript \u64cd\u4f5c\u7684\u65b9\u6cd5\uff0c\u662f ES6 \u4e3a\u4e86\u64cd\u4f5c\u5bf9\u8c61\u800c\u63d0\u4f9b\u7684\u65b0 API\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// es5 \u5199\u6cd5:Object.defineProperty\nconst student = {}\nconst r = Object.defineProperty(student, 'name', { value: 'Mike' })\n\n// es6\nconst student = {}\nconst r = Reflect.defineProperty(student, 'name', { value: 'Mike' })\n\n\n// es5 \u5199\u6cd5\u5220\u9664\u5c5e\u6027\nconst obj = { x: 1, y: 2 }\nconst a = delete obj.x\n\n// es6 \u5199\u6cd5\nconst obj = { x: 1, y: 2 }\nconst a = Reflect.deleteProperty(obj, 'x')\n")),(0,o.kt)("h3",{id:"\u4f8b\u5b502\u5bf9\u8c61\u8bfb\u53d6\u64cd\u4f5c"},"\u4f8b\u5b502\uff1a\u5bf9\u8c61\u8bfb\u53d6\u64cd\u4f5c"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// \u666e\u901a\u5199\u6cd5\nconst obj = { name: 'test', age: 25 }\nconsole.log('\u666e\u901a\u5199\u6cd5:',obj.name) // 'test'\n\n// Reflect.get\u7684\u8bfb\u53d6\u65b9\u5f0f\nconsole.log('Reflect.get\u7684\u8bfb\u53d6\u65b9\u5f0f:',Reflect.get(obj, 'name')) // test\n")),(0,o.kt)("h2",{id:"api"},"api"),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(45364).Z,width:"937",height:"894"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"Reflect.apply(target, thisArg, args)\n\nReflect.construct(target, args)\n\n// Reflect.get \u65b9\u6cd5\u67e5\u627e\u5e76\u8fd4\u56de target \u5bf9\u8c61\u7684 name \u5c5e\u6027\uff0c\u5982\u679c\u6ca1\u6709\u8be5\u5c5e\u6027\uff0c\u5219\u8fd4\u56de undefined\u3002\nReflect.get(target, name, receiver)\n\n// Reflect.set \u65b9\u6cd5\u8bbe\u7f6e target \u5bf9\u8c61\u7684 name \u5c5e\u6027\u7b49\u4e8e value\u3002\nReflect.set(target, name, value, receiver)\n\nReflect.defineProperty(target, name, desc)\n\nReflect.deleteProperty(target, name)\n\n// \u65e7\u5199\u6cd5\n'foo' in myObject // true\n// \u65b0\u5199\u6cd5\nReflect.has(myObject, 'foo') // true\n\nReflect.ownKeys(target)\n\nReflect.isExtensible(target)\n\nReflect.preventExtensions(target)\n\nReflect.getOwnPropertyDescriptor(target, name)\n\nReflect.getPrototypeOf(target)\n\nReflect.setPrototypeOf(target, prototype)\n")),(0,o.kt)("h2",{id:"\u5e94\u75283"},"\u5e94\u75283\uff1a"),(0,o.kt)("p",null,"\u4fee\u6539\u67d0\u4e9b Object \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\uff0c\u8ba9\u5176\u53d8\u5f97\u66f4\u5408\u7406\u3002\u6bd4\u5982\uff0cObject.defineProperty(obj, name, desc) \u5728\u65e0\u6cd5\u5b9a\u4e49\u5c5e\u6027\u65f6\uff0c\n\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u5b9a\u4e49\u6210\u529f\u65f6\u8fd4\u56de\u4fee\u6539\u540e\u7684\u5bf9\u8c61\u3002\u800c Reflect.defineProperty(obj, name, desc) \u5728\u5b9a\u4e49\u5c5e\u6027\u6210\u529f\u65f6\u8fd4\u56de true \uff0c\u5931\u8d25\u65f6\u8fd4\u56de false"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {}\nObject.defineProperty(obj,\"name\",{\n    value:\"test1\",\n    writable: false //\u5f53\u8bbe\u7f6e\u4e3a false \u7684\u65f6\u5019\u5f53\u524d\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u4e0d\u5141\u8bb8\u88ab\u4fee\u6539\n})\n\nconsole.log(Reflect.set(obj, 'name', 'test2')) // false\nconsole.log('\u4e0d\u963b\u585e\u4e86') // '\u4e0d\u963b\u585e\u4e86'\n")),(0,o.kt)("h2",{id:"\u5e94\u75284"},"\u5e94\u75284"),(0,o.kt)("p",null,"Reflect.construct(target, args)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function Person(name, age) {\n    this.name = name;\n    this.age = age;\n}\n\n// new \u7684\u5199\u6cd5\nlet p1 = new Person('Tom', 18);\n\n// Reflect.construct \u7684\u5199\u6cd5\uff0c\u4e24\u79cd\u5199\u6cd5\u6700\u7ec8\u6548\u679c\u4e00\u6837\nlet p2 = Reflect.construct(Person, ['Tom', 18]);\n")),(0,o.kt)("h2",{id:"\u5e94\u75285"},"\u5e94\u75285"),(0,o.kt)("p",null,"Reflect.getPrototypeOf \u65b9\u6cd5\u7528\u4e8e\u8bfb\u53d6\u5bf9\u8c61\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"__proto__"),"\u5c5e\u6027\uff0c\u5bf9\u5e94 Object.getPrototypeOf(obj)\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"let p = new Person();\n\nconsole.log(Object.getPrototypeOf(p) === Person.prototype); // true\nconsole.log(Reflect.getPrototypeOf(p) === Person.prototype);// true\n")),(0,o.kt)("h2",{id:"\u5e94\u75286"},"\u5e94\u75286"),(0,o.kt)("p",null,"Reflect.setPrototypeOf(obj, newProto)\nReflect.setPrototypeOf \u65b9\u6cd5\u7528\u4e8e\u8bbe\u7f6e\u76ee\u6807\u5bf9\u8c61\u7684\u539f\u578b\uff08prototype\uff09\uff0c\u5bf9\u5e94 Object.setPrototypeOf(obj, newProto) \u65b9\u6cd5\u3002\n\u5b83\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u6210\u529f\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"let obj = {\n    name: 'test'\n}\n\n// \u65e7\u5199\u6cd5\uff0c\u8bbe\u7f6e\u6210\u529f\u4f1a\u8fd4\u56de\u4fee\u6539\u540e\u7684\u5bf9\u8c61\nconsole.log(Object.setPrototypeOf(obj, Array.prototype));\n\n// \u65b0\u5199\u6cd5\uff0c\u8bbe\u7f6e\u6210\u529f\u4f1a\u8fd4\u56de true\nconsole.log(Reflect.setPrototypeOf(obj, Array.prototype));\n")))}u.isMDXComponent=!0},45364:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/Reflect-api-231e1cb8212008fa25ff7573de0ee16f.png"}}]);