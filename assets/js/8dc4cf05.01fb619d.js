"use strict";(self.webpackChunkprogramming_technology=self.webpackChunkprogramming_technology||[]).push([[6568],{3905:(e,t,n)=>{n.d(t,{Zo:()=>g,kt:()=>u});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),s=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},g=function(e){var t=s(e.components);return r.createElement(i.Provider,{value:t},e.children)},f="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,i=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),f=s(n),d=a,u=f["".concat(i,".").concat(d)]||f[d]||p[d]||c;return n?r.createElement(u,o(o({ref:t},g),{},{components:n})):r.createElement(u,o({ref:t},g))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,o=new Array(c);o[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[f]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<c;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5311:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>l,toc:()=>s});var r=n(87462),a=(n(67294),n(3905));const c={},o=void 0,l={unversionedId:"Vue/\u9996\u6b21\u6e32\u67d3\u7684track\u548cdata\u6539\u53d8\u7684trigger",id:"Vue/\u9996\u6b21\u6e32\u67d3\u7684track\u548cdata\u6539\u53d8\u7684trigger",title:"\u9996\u6b21\u6e32\u67d3\u7684track\u548cdata\u6539\u53d8\u7684trigger",description:"\u56fe-\u6536\u96c6\u548c\u89e6\u53d1\u6982\u5ff5\u548c\u6d41\u7a0b",source:"@site/programming-tech/Vue/09-\u9996\u6b21\u6e32\u67d3\u7684track\u548cdata\u6539\u53d8\u7684trigger.md",sourceDirName:"Vue",slug:"/Vue/\u9996\u6b21\u6e32\u67d3\u7684track\u548cdata\u6539\u53d8\u7684trigger",permalink:"/Vue/\u9996\u6b21\u6e32\u67d3\u7684track\u548cdata\u6539\u53d8\u7684trigger",draft:!1,editUrl:"https://github.com/huiruo/programming-tech-website/edit/main/programming-tech/Vue/09-\u9996\u6b21\u6e32\u67d3\u7684track\u548cdata\u6539\u53d8\u7684trigger.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{},sidebar:"docs",previous:{title:"runtime-VNode\u6784\u5efa\u4e4b\u540e-\u5f00\u59cb\u6e32\u67d3",permalink:"/Vue/runtime-VNode\u6784\u5efa\u4e4b\u540e-\u5f00\u59cb\u6e32\u67d3"},next:{title:"\u7406\u89e3reactive\u548ceffect",permalink:"/Vue/\u7406\u89e3reactive\u548ceffect"}},i={},s=[{value:"\u56fe-\u6536\u96c6\u548c\u89e6\u53d1\u6982\u5ff5\u548c\u6d41\u7a0b",id:"\u56fe-\u6536\u96c6\u548c\u89e6\u53d1\u6982\u5ff5\u548c\u6d41\u7a0b",level:3},{value:"\u56fe-\u5148\u6765\u770b\u9996\u6b21\u6e32\u67d3\u7684\u4f9d\u8d56\u6536\u96c6",id:"\u56fe-\u5148\u6765\u770b\u9996\u6b21\u6e32\u67d3\u7684\u4f9d\u8d56\u6536\u96c6",level:2},{value:"\u5b9e\u4f8b\u4ee3\u7801",id:"\u5b9e\u4f8b\u4ee3\u7801",level:3},{value:"\u7f16\u8bd1\u540e\u7684\u4ee3\u7801code",id:"\u7f16\u8bd1\u540e\u7684\u4ee3\u7801code",level:3},{value:"\u521d\u59cb\u5316--&gt;get--&gt;track",id:"\u521d\u59cb\u5316--get--track",level:2},{value:"track\u51fd\u6570",id:"track\u51fd\u6570",level:3},{value:"\u5982\u56fe\uff1a\u53ef\u89c1vnode\u6784\u5efa\u7684\u65f6\u5019\u4f1a\u89e6\u53d1handler\u7684get",id:"\u5982\u56fe\u53ef\u89c1vnode\u6784\u5efa\u7684\u65f6\u5019\u4f1a\u89e6\u53d1handler\u7684get",level:3},{value:"data\u6539\u53d8--&gt;set--&gt;trigger(\u89e6\u53d1\u5668)",id:"data\u6539\u53d8--set--trigger\u89e6\u53d1\u5668",level:2},{value:"trigger \u51fd\u6570",id:"trigger-\u51fd\u6570",level:3},{value:"trigger--&gt;triggerEffects--&gt;triggerEffect",id:"trigger--triggereffects--triggereffect",level:3},{value:"\u91cd\u70b9\uff1atriggerEffect\u5b9e\u9645\u89e6\u53d1\u66f4\u65b0\u7684\u5730\u65b9",id:"\u91cd\u70b9triggereffect\u5b9e\u9645\u89e6\u53d1\u66f4\u65b0\u7684\u5730\u65b9",level:3},{value:"\u6d41\u7a0b\u56fe-data\u66f4\u65b0",id:"\u6d41\u7a0b\u56fe-data\u66f4\u65b0",level:2},{value:"\u6d41\u7a0b\u89e3\u6790:\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u70b9\uff1a \u521d\u59cb\u5316\u7684\u65f6\u5019instance.data",id:"\u6d41\u7a0b\u89e3\u6790\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u70b9-\u521d\u59cb\u5316\u7684\u65f6\u5019instancedata",level:3},{value:"\u6d41\u7a0b\u89e3\u6790:\u7b2c1\u6b65,\u6240\u4ee5\u526f\u4f5c\u7528set\u7684\u4fee\u6539\u7684\u4e5f\u662finstance.data\u7684\u503c,\u8fd9\u6837\u5c31\u751f\u6210\u7684\u65b0\u7684instance",id:"\u6d41\u7a0b\u89e3\u6790\u7b2c1\u6b65\u6240\u4ee5\u526f\u4f5c\u7528set\u7684\u4fee\u6539\u7684\u4e5f\u662finstancedata\u7684\u503c\u8fd9\u6837\u5c31\u751f\u6210\u7684\u65b0\u7684instance",level:3},{value:"\u6d41\u7a0b\u89e3\u6790:\u7b2c2\u6b65,\u6267\u884crenderComponentRoot,\u4e5f\u5c31\u662frender\u51fd\u6570\u751f\u6210\u6700\u65b0\u7684vnode",id:"\u6d41\u7a0b\u89e3\u6790\u7b2c2\u6b65\u6267\u884crendercomponentroot\u4e5f\u5c31\u662frender\u51fd\u6570\u751f\u6210\u6700\u65b0\u7684vnode",level:3},{value:"\u6d41\u7a0b\u89e3\u6790:\u7b2c3\u6b65,\u6267\u884cpatch \u8d70diff\u6d41\u7a0b",id:"\u6d41\u7a0b\u89e3\u6790\u7b2c3\u6b65\u6267\u884cpatch-\u8d70diff\u6d41\u7a0b",level:3}],g={toc:s},f="wrapper";function p(e){let{components:t,...c}=e;return(0,a.kt)(f,(0,r.Z)({},g,c,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"\u56fe-\u6536\u96c6\u548c\u89e6\u53d1\u6982\u5ff5\u548c\u6d41\u7a0b"},"\u56fe-\u6536\u96c6\u548c\u89e6\u53d1\u6982\u5ff5\u548c\u6d41\u7a0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\u521d\u59cb\u5316--\x3eget--\x3etrack(\u8ffd\u8e2a\uff0c\u4f9d\u8d56)\n\ndata\u6539\u53d8--\x3eset--\x3etrigger(\u89e6\u53d1\u5668)\n")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u4f9d\u8d56\u6536\u96c6\ntargetMap\u4e2d\u6709depsMap\uff08\u4ee5target\u4e3akey\uff09\uff1bdepsMap\u4e2d\u6709\u8bb8\u591adep\uff08\u4ee5targetMap\u7684key\u4e3akey\uff09\uff1b\u7b80\u5355\u7406\u89e3\u4e3a\uff1a\u5728\u7f16\u8bd1\u65f6\u6839\u636etarget\u548ckey\uff0c\u521b\u5efa\u526f\u4f5c\u7528\uff0c\u5c06activeEffect\u6307\u5411\u65b0\u5efa\u7684\u526f\u4f5c\u7528\uff0c\u5e76\u5b58\u653e\u5230\u76f8\u5173\u7684\u4f9d\u8d56dep\u91cc\u7684\u8fc7\u7a0b\u5c31\u662f\u4f9d\u8d56\u6536\u96c6\u3002")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u89e6\u53d1\u66f4\u65b0\n\u89e6\u53d1target\u3001key\u76f8\u5173\u7684dep\u4e2d\u6240\u6709\u76f8\u5173\u7684\u526f\u4f5c\u7528\uff0c\u901a\u8fc7\u5404\u4e2a\u526f\u4f5c\u7528\u4e0a\u7684effect.scheduler()\u6216\u8005effect.run()\u6765\u5b9e\u73b0\u66f4\u65b0\u3002"))),(0,a.kt)("p",null,"triggerEffect\u89e6\u53d1\u526f\u4f5c\u7528\u4ece\u800c\u66f4\u65b0\u3002\u5f53\u89e6\u53d1\u66f4\u65b0\u7684\u526f\u4f5c\u7528effect\u5141\u8bb8\u81ea\u8c03\u7528\uff0c\u4e14\u4e0d\u662f\u5f53\u524d\u6d3b\u8dc3\u7684\u526f\u4f5c\u7528\u65f6\uff0c\u901a\u8fc7\u8c03\u5ea6\u5668scheduler\u6267\u884c\u526f\u4f5c\u7528\u6216\u8005\u76f4\u63a5\u6267\u884crun\uff0c\u662f\u5b9e\u9645\u4e0a\u89e6\u53d1\u66f4\u65b0\u7684\u5730\u65b9\u3002"),(0,a.kt)("h2",{id:"\u56fe-\u5148\u6765\u770b\u9996\u6b21\u6e32\u67d3\u7684\u4f9d\u8d56\u6536\u96c6"},"\u56fe-\u5148\u6765\u770b\u9996\u6b21\u6e32\u67d3\u7684\u4f9d\u8d56\u6536\u96c6"),(0,a.kt)("p",null,"\u4e0b\u9762\u51fd\u6570\u90fd\u4f1a\u89e6\u53d1\u6536\u96c6"),(0,a.kt)("mermaid",{value:'flowchart TD\nb1("reactive(target)")--\x3eA1\nb2("shallowReactive(target)")--\x3eA1\nb3("readonly(target)")--\x3eA1\nb4("shallowReadonly(target)")--\x3eA1\nA1("createReactiveObject(target,isReadonly,baseHandlers,collectionHandlers,proxyMap)")'}),(0,a.kt)("h3",{id:"\u5b9e\u4f8b\u4ee3\u7801"},"\u5b9e\u4f8b\u4ee3\u7801"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<body>\n  <script src=\"./vue3.global.js\"><\/script>\n  <div id=\"root\">\n    <div>\n      <button v-on:click='onClickText' class=\"btn\">Hello world,Click me</button>\n      <span>{{refData.myName}}-{{msg}}-{{info.msg2}}</span>\n      <div v-if=\"showDiv\">\n        \u88ab\u4f60\u53d1\u73b0\u4e86\n      </div>\n    </div>\n  </div>\n  <script>\n    const { ref, reactive, nextTick } = Vue\n\n    const app = Vue.createApp({\n      data() {\n        return {\n          msg: '\u6539\u53d8\u6211',\n          showDiv: false\n        }\n      },\n      methods: {\n        onClickText() {\n          this.msg = '\u52aa\u529b'\n          this.showDiv = !this.showDiv\n          this.info.msg2 = this.showDiv ? '\u76f4\u63a5\u70b9' : '\u5176\u4ed6\u9009\u62e9'\n          nextTick(() => {\n            console.log('--nextTick--', this.showDiv, this.msg);\n          })\n        }\n      },\n\n      setup(props) {\n        const refData = ref({\n          myName: 'Ruo'\n        })\n\n        const info = reactive({\n          msg2: 'hello',\n        });\n\n        nextTick(() => {\n          console.log('--nextTick--');\n        })\n\n        Vue.onBeforeMount(() => {\n          console.log('--1:\u7ec4\u4ef6\u6302\u8f7d\u524d onBeforeMount--\x3e')\n        })\n\n        Vue.onMounted(() => {\n          console.log('--2:\u7ec4\u4ef6\u6302\u8f7d\u540e onMounted--\x3e')\n        });\n\n        return {\n          info,\n          refData\n        };\n      },\n\n    })\n\n    console.log('app:', app)\n    app.mount('#root')\n  <\/script>\n</body>\n")),(0,a.kt)("p",null,"\u5728\u6267\u884csetup()\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"reactive"),",\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\u4f1a\u8c03\u75284\u6b21",(0,a.kt)("inlineCode",{parentName:"p"},"reactive()"),",\u56e0\u4e3a\u67094\u4e2adata:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function reactive(target) {\n    // if trying to observe a readonly proxy, return the readonly version.\n    // \u5982\u679c\u8bd5\u56fe\u53bb\u89c2\u5bdf\u4e00\u4e2a\u53ea\u8bfb\u7684\u4ee3\u7406\u5bf9\u8c61\uff0c\u4f1a\u76f4\u63a5\u8fd4\u56de\u53ea\u8bfb\u7248\u672c\n    if (isReadonly(target)) {\n        return target;\n    }\n    // \u521b\u5efa\u4e00\u4e2a\u4ee3\u7406\u5bf9\u8c61\u5e76\u8fd4\u56de\n    console.log('%c\u54cd\u5e94\u5f0fA=>3:reactive->createReactiveObject\u521b\u5efa\u4e00\u4e2a\u4ee3\u7406\u5bf9\u8c61\u5e76\u8fd4\u56de', 'color:chartreuse')\n    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);\n}\n")),(0,a.kt)("h3",{id:"\u7f16\u8bd1\u540e\u7684\u4ee3\u7801code"},"\u7f16\u8bd1\u540e\u7684\u4ee3\u7801code"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const _Vue = Vue\nconst { createElementVNode: _createElementVNode, createCommentVNode: _createCommentVNode } = _Vue\n\nconst _hoisted_1 = ["onClick"]\nconst _hoisted_2 = { key: 0 }\n\nreturn function render(_ctx, _cache) {\n  with (_ctx) {\n    const { createElementVNode: _createElementVNode, createCommentVNode: _createCommentVNode, toDisplayString: _toDisplayString, openBlock: _openBlock, createElementBlock: _createElementBlock } = _Vue\n\n    return (_openBlock(), _createElementBlock("div", null, [\n      _createElementVNode("button", {\n        onClick: onClickText,\n        class: "btn"\n      }, "Hello world,Click me", 8 /* PROPS */, _hoisted_1),\n      _createCommentVNode(" <span>{{refData.myName}}-{{msg}}-{{info.msg2}}</span> "),\n      _createElementVNode("span", null, _toDisplayString(refData.myName) + "-" + _toDisplayString(msg), 1 /* TEXT */),\n      showDiv\n        ? (_openBlock(), _createElementBlock("div", _hoisted_2, " \u88ab\u4f60\u53d1\u73b0\u4e86 "))\n        : _createCommentVNode("v-if", true)\n    ]))\n  }\n}\n')),(0,a.kt)("h2",{id:"\u521d\u59cb\u5316--get--track"},"\u521d\u59cb\u5316--\x3eget--\x3etrack"),(0,a.kt)("h3",{id:"track\u51fd\u6570"},"track\u51fd\u6570"),(0,a.kt)("p",null,"track \u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1atarget \u8868\u793a\u88ab\u8ffd\u8e2a\u7684\u76ee\u6807\u5bf9\u8c61\uff0ctype \u8868\u793a\u8ffd\u8e2a\u7c7b\u578b\uff0c\u53ef\u4ee5\u662f TrackOpTypes.GET \u6216 TrackOpTypes.HAS\uff0ckey \u8868\u793a\u88ab\u8ffd\u8e2a\u7684\u952e\u3002"),(0,a.kt)("p",null,"\u5982\u679c shouldTrack \u4e3a false \u6216 activeEffect \u4e3a undefined\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u3002shouldTrack \u662f\u4e00\u4e2a\u6807\u5fd7\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u662f\u5426\u8fdb\u884c\u4f9d\u8d56\u8ffd\u8e2a\u3002activeEffect \u5219\u8868\u793a\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u526f\u4f5c\u7528\u51fd\u6570\u3002"),(0,a.kt)("p",null,"\u901a\u8fc7 targetMap \u53d8\u91cf\u83b7\u53d6 target \u5bf9\u5e94\u7684\u4f9d\u8d56\u6620\u5c04\u8868 depsMap\u3002\u5982\u679c depsMap \u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6620\u5c04\u8868\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a targetMap \u7684\u503c"),(0,a.kt)("p",null,"\u7136\u540e\uff0c\u901a\u8fc7 depsMap \u83b7\u53d6 key \u5bf9\u5e94\u7684\u4f9d\u8d56\u96c6\u5408 dep\u3002\u5982\u679c dep \u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4f9d\u8d56\u96c6\u5408\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a depsMap \u7684\u503c\u3002"),(0,a.kt)("p",null,"\u6700\u540e\u8c03\u7528trackEffects"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"trackEffects \u51fd\u6570\u7528\u4e8e\u5c06\u5f53\u524d\u6b63\u5728\u6536\u96c6\u4f9d\u8d56\u7684 effect \u6dfb\u52a0\u5230 Dep \u5b9e\u4f8b\u7684\u4f9d\u8d56\u5217\u8868\u4e2d\u3002\u5176\u4e2d\uff0ceffect.dep \u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5b58\u50a8\u4e86\u4e0e\u8be5 Dep \u5b9e\u4f8b\u76f8\u5173\u7684\u6240\u6709 effect\u3002\u5c06\u8be5 effect \u6dfb\u52a0\u5230\u4efb\u52a1\u961f\u5217\u4e2d\uff0c\u5373\u8c03\u7528 queueEffect \u51fd\u6570\u3002\n")),(0,a.kt)("p",null,"deps\u6570\u7ec4\uff0c\u7528\u4e8e\u5b58\u50a8\u8be5 effect \u7684\u4f9d\u8d56\u5173\u7cfb\u3002\u5f53\u54cd\u5e94\u5f0f\u6570\u636e\u5bf9\u8c61\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5bf9\u5e94\u7684 Dep \u5b9e\u4f8b\u4f1a\u901a\u77e5\u8be5 effect \u66f4\u65b0\uff0c\u5e76\u5c06\u8be5 Dep \u5b9e\u4f8b\u6dfb\u52a0\u5230 effect \u7684 deps \u6570\u7ec4\u4e2d\u3002\u8fd9\u6837\uff0cVue3 \u5c31\u53ef\u4ee5\u6839\u636e\u7ec4\u4ef6\u5b9e\u4f8b\u548c\u54cd\u5e94\u5f0f\u6570\u636e\u5bf9\u8c61\u6765\u786e\u5b9a\u8981\u66f4\u65b0\u7684\u7ec4\u4ef6\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4ee5\u76ee\u6807\u5bf9\u8c61target\u4e3akey\uff0cdepsMap\u4e3atargetMap\u7684\u503c\uff1b\u4ee5target\u7684key\u4e3akey\uff0c\u4f7f\u7528createDep()\u521b\u5efa\u4f9d\u8d56dep\u4e3a\u503c\uff0c\u5b58\u653e\u5728target\u5bf9\u5e94\u7684depsMap\u4e2d\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u901a\u8fc7trackEffects(dep, eventInfo)\u6765\u6536\u96c6\u526f\u4f5c\u7528\u3002")),(0,a.kt)("p",null,"track \u6536\u96c6\u4f9d\u8d56:\n",(0,a.kt)("inlineCode",{parentName:"p"},"createDep"),"\n\u4f7f\u7528createDep\u521b\u5efa\u4e00\u4e2a\u65b0\u7684dep\u3002\u53ef\u4ee5\u770b\u5230\uff0cdep\u662f\u4e2aSet\u5b9e\u4f8b\uff0c\u4e14\u6dfb\u52a0\u4e86\u4e24\u4e2a\u5c5e\u6027\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"w\uff1awasTracked\u7684\u9996\u5b57\u6bcd\uff0c\u8868\u793a\u5f53\u524d\u4f9d\u8d56\u662f\u5426\u88ab\u6536\u96c6\uff1b"),(0,a.kt)("li",{parentName:"ul"},"n\uff1anewlyTracked\u7684\u9996\u5b57\u6bcd\uff0c\u8868\u793a\u5f53\u524d\u4f9d\u8d56\u662f\u5426\u662f\u65b0\u6536\u96c6\u7684\u3002")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"trackEffects"),"\ntrackEffects\u7528\u4e8e\u6536\u96c6\u526f\u4f5c\u7528\u3002\u4e3b\u8981\u628a\u5f53\u524d\u6d3b\u8dc3\u7684activeEffect\u52a0\u5165dep\uff0c\u4ee5\u53ca\u5728activeEffect.deps\u4e2d\u52a0\u5165\u8be5\u526f\u4f5c\u7528\u5f71\u54cd\u5230\u7684\u6240\u6709\u4f9d\u8d56\u3002"),(0,a.kt)("p",null,"\u4f9d\u8d56\u6536\u96c6\u5c31\u662f\u628a\u5f53\u524d\u6d3b\u8dc3\u7684\u526f\u4f5c\u7528activeEffect\u5b58\u5165\u5168\u5c40\u53d8\u91cftargetMap\u4e2d\u7684 (target\u5bf9\u5e94\u7684 depsMap) \u4e2d \uff08target\u7684key\uff09\u5bf9\u5e94\u7684 dep(\u7c7b\u578b\u4e3aSet) \u4e2d\uff0c\u5e76\u628a\u8fd9\u4e2adep\u52a0\u5165\u5230\u53d7activeEffect\u526f\u4f5c\u7528\u5f71\u54cd\u7684\u6240\u6709\u4f9d\u8d56activeEffect.deps\u5217\u8868\u4e2d\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const targetMap = new WeakMap();\n\nfunction track(target, type, key) {\n  if (shouldTrack && activeEffect) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, (depsMap = new Map()));\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, (dep = createDep()));\n    }\n    const eventInfo = { effect: activeEffect, target, type, key }\n      ;\n    console.log('%c=track&track=track\u89e6\u53d1\u6536\u96c6:1,track\u8c03\u7528trackEffects', 'color:chartreuse', 'dep:', dep)\n    trackEffects(dep, eventInfo);\n  }\n}\n\nlet activeEffect;\nfunction trackEffects(dep, debuggerEventExtraInfo) {\n  console.log('%c\u89e6\u53d1\u6536\u96c6:trackEffects\u628a\u5f53\u524d\u6d3b\u8dc3\u7684activeEffect\u52a0\u5165dep\uff0c\u4ee5\u53ca\u5728activeEffect.deps\u4e2d\u52a0\u5165\u8be5\u526f\u4f5c\u7528\u5f71\u54cd\u5230\u7684\u6240\u6709\u4f9d\u8d56', 'color:chartreuse')\n  let shouldTrack = false;\n  if (effectTrackDepth <= maxMarkerBits) {\n    if (!newTracked(dep)) {\n      dep.n |= trackOpBit; // set newly tracked\n      shouldTrack = !wasTracked(dep);\n    }\n  } else {\n    // Full cleanup mode.\n    shouldTrack = !dep.has(activeEffect);\n  }\n  if (shouldTrack) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n    if (activeEffect.onTrack) {\n      activeEffect.onTrack(Object.assign({ effect: activeEffect }, debuggerEventExtraInfo));\n    }\n  }\n}\n")),(0,a.kt)("h3",{id:"\u5982\u56fe\u53ef\u89c1vnode\u6784\u5efa\u7684\u65f6\u5019\u4f1a\u89e6\u53d1handler\u7684get"},"\u5982\u56fe\uff1a\u53ef\u89c1vnode\u6784\u5efa\u7684\u65f6\u5019\u4f1a\u89e6\u53d1handler\u7684get"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"beforeMount\u5728vnode\u6784\u5efa\u4e4b\u524d"),(0,a.kt)("li",{parentName:"ul"},"\u8c03\u7528render\u51fd\u6570\u5f00\u59cbvnode\u6784\u5efa")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"=vnode-\u6784\u5efa:start--\x3e\u8c03\u7528Ast\u751f\u6210\u7684render\u51fd\u6570\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u89e6\u53d1get")),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(1046).Z,width:"764",height:"809"})),(0,a.kt)("h2",{id:"data\u6539\u53d8--set--trigger\u89e6\u53d1\u5668"},"data\u6539\u53d8--\x3eset--\x3etrigger(\u89e6\u53d1\u5668)"),(0,a.kt)("h3",{id:"trigger-\u51fd\u6570"},"trigger \u51fd\u6570"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function trigger(target, type, key, newValue, oldValue, oldTarget) {\n    const depsMap = targetMap.get(target);\n    console.log('%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u7528:1\u5f00\u59cb\u5224\u65ad', 'color:chartreuse', { target, type, key, newValue, oldValue, oldTarget, depsMap })\n    if (!depsMap) {\n        // never been tracked\n        return;\n    }\n    let deps = [];\n    if (type === \"clear\" /* TriggerOpTypes.CLEAR */) {\n        // collection being cleared\n        // trigger all effects for target\n        console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75282:type:${type}`, 'color:chartreuse')\n        deps = [...depsMap.values()];\n    }\n    else if (key === 'length' && isArray(target)) {\n        const newLength = toNumber(newValue);\n        console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75283:key === 'length' && isArray(target)`, 'color:chartreuse')\n        depsMap.forEach((dep, key) => {\n            if (key === 'length' || key >= newLength) {\n                deps.push(dep);\n            }\n        });\n    }\n    else {\n        // schedule runs for SET | ADD | DELETE\n        if (key !== void 0) {\n            console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75284:`, 'color:chartreuse')\n            deps.push(depsMap.get(key));\n        }\n        // also run for iteration key on ADD | DELETE | Map.SET\n        switch (type) {\n            case \"add\" /* TriggerOpTypes.ADD */:\n                if (!isArray(target)) {\n                    deps.push(depsMap.get(ITERATE_KEY));\n                    console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75285:`, 'color:chartreuse')\n                    if (isMap(target)) {\n                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n                    }\n                }\n                else if (isIntegerKey(key)) {\n                    console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75286:`, 'color:chartreuse')\n                    // new index added to array -> length changes\n                    deps.push(depsMap.get('length'));\n                }\n                break;\n            case \"delete\" /* TriggerOpTypes.DELETE */:\n                console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75287:`, 'color:chartreuse')\n                if (!isArray(target)) {\n                    console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75287-1:`, 'color:chartreuse')\n                    deps.push(depsMap.get(ITERATE_KEY));\n                    if (isMap(target)) {\n                        console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75287-2:`, 'color:chartreuse')\n                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n                    }\n                }\n                break;\n            case \"set\" /* TriggerOpTypes.SET */:\n                console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75288:`, 'color:chartreuse')\n                if (isMap(target)) {\n                    console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75288-1:`, 'color:chartreuse')\n                    deps.push(depsMap.get(ITERATE_KEY));\n                }\n                break;\n        }\n    }\n    const eventInfo = { target, type, key, newValue, oldValue, oldTarget };\n    if (deps.length === 1) {\n        console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75289:`, 'color:chartreuse')\n        if (deps[0]) {\n            console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u75289-1=\u6267\u884ctriggerEffects:`, 'color:chartreuse')\n            {\n                triggerEffects(deps[0], eventInfo);\n            }\n        }\n    }\n    else {\n        const effects = [];\n        for (const dep of deps) {\n            if (dep) {\n                effects.push(...dep);\n            }\n        }\n        {\n            console.log(`%c=track&trigger=trigger\u89e6\u53d1\u526f\u4f5c\u752810=\u6267\u884ctriggerEffects:`, 'color:chartreuse')\n            triggerEffects(createDep(effects), eventInfo);\n        }\n    }\n}\n")),(0,a.kt)("h3",{id:"trigger--triggereffects--triggereffect"},"trigger--\x3etriggerEffects--\x3etriggerEffect"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function triggerEffects(dep, debuggerEventExtraInfo) {\n    console.log('%c=triggerEffects=\u89e6\u53d1\u66f4\u65b0=\u5f00\u59cb\u5224\u65ad=triggerEffects\u63a5\u6536\u4e00\u4e2adep\u548c\u7528\u4e8e\u8c03\u8bd5\u7684\u989d\u5916\u4fe1\u606f\u3002\u904d\u5386dep\u4e2d\u7684effect\uff0c\u9010\u4e00\u4f7f\u7528triggerEffect\u6765\u6267\u884c\u526f\u4f5c\u7528', 'color:chartreuse', { dep })\n    // spread into array for stabilization\n    const effects = isArray(dep) ? dep : [...dep];\n    for (const effect of effects) {\n        if (effect.computed) {\n            console.log('%c=triggerEffects=\u89e6\u53d1\u66f4\u65b0:a,triggerEffects->triggerEffect', 'color:chartreuse', 'effect:', effect)\n            triggerEffect(effect, debuggerEventExtraInfo);\n        }\n    }\n    for (const effect of effects) {\n        if (!effect.computed) {\n            console.log('%c=triggerEffects=\u89e6\u53d1\u66f4\u65b0:b,triggerEffects->triggerEffect', 'color:chartreuse', 'effect:', effect)\n            triggerEffect(effect, debuggerEventExtraInfo);\n        }\n    }\n}\n")),(0,a.kt)("h3",{id:"\u91cd\u70b9triggereffect\u5b9e\u9645\u89e6\u53d1\u66f4\u65b0\u7684\u5730\u65b9"},"\u91cd\u70b9\uff1atriggerEffect\u5b9e\u9645\u89e6\u53d1\u66f4\u65b0\u7684\u5730\u65b9"),(0,a.kt)("p",null,"triggerEffect\u89e6\u53d1\u526f\u4f5c\u7528\u4ece\u800c\u66f4\u65b0\u3002\u5f53\u89e6\u53d1\u66f4\u65b0\u7684\u526f\u4f5c\u7528effect\u5141\u8bb8\u81ea\u8c03\u7528\uff0c\u4e14\u4e0d\u662f\u5f53\u524d\u6d3b\u8dc3\u7684\u526f\u4f5c\u7528\u65f6\uff0c\u901a\u8fc7\u8c03\u5ea6\u5668scheduler\u6267\u884c\u526f\u4f5c\u7528\u6216\u8005\u76f4\u63a5\u6267\u884crun\uff0c\u662f\u5b9e\u9645\u4e0a\u89e6\u53d1\u66f4\u65b0\u7684\u5730\u65b9\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function triggerEffect(effect, debuggerEventExtraInfo) {\n    console.log('%c=triggerEffect\u6b63\u5f0f\u6267\u884c\u526f\u4f5c\u7528:\u5f00\u542f\u5224\u65ad\u903b\u8f91=effect', 'color:cyan', 'effect:', effect)\n    if (effect !== activeEffect || effect.allowRecurse) {\n        if (effect.onTrigger) {\n            effect.onTrigger(extend({ effect }, debuggerEventExtraInfo));\n        }\n        // \u5b9e\u9645\u89e6\u53d1\u66f4\u65b0\u7684\u5730\u65b9,\u5224\u65ad\u662f\u5426\u6709scheduler, \u6709\u5219\u6267\u884c\uff0c\u65e0\u5219\u6267\u884cfn\n        if (effect.scheduler) {\n            console.log('%c=triggerEffect\u6b63\u5f0f\u6267\u884c\u526f\u4f5c\u7528:1=triggerEffect\u8c03\u7528effect.scheduler', 'color:cyan')\n            console.log('%c=\u961f\u52174:triggerEffect\u8c03\u7528effect.scheduler()', 'color:black', effect.scheduler)\n\n            // debugger\n            effect.scheduler();\n        }\n        else {\n            console.log('%c=triggerEffect\u6b63\u5f0f\u6267\u884c\u526f\u4f5c\u7528:2=triggerEffect\u8c03\u7528effect.run', 'color:cyan')\n            effect.run();\n        }\n    }\n}\n")),(0,a.kt)("h2",{id:"\u6d41\u7a0b\u56fe-data\u66f4\u65b0"},"\u6d41\u7a0b\u56fe-data\u66f4\u65b0"),(0,a.kt)("mermaid",{value:'flowchart TD\nA0(data\u6539\u53d8)--\x3eA1\n\n%% A0--\x3eb2("get(target,key,receiver")--\u6536\u96c6\u4f9d\u8d56--\x3eb3("track(target,\'get\',key)")--\x3eb7("trackEffects(dep, eventInfo)")\n\nA1("set(target, key, value, receiver)")--hadKey=true--\x3eA2("trigger(target,\'set\',key,value,oldValue)")--\x3eA4\nA1--hadKey=true--\x3eA3("trigger(target,\'set\',key,value,oldValue)")--\x3eA4\n\nA4("trigger(target,type,key,newValue,..")--deps.length=1\u6bd4\u5982\u5bf9\u8c61--\x3eB1("triggerEffects(deps[0], eventInfo)")\n\nA4--\u4e0d\u7b49\u4e8e1\u6bd4\u5982add\u6570\u7ec4--\x3eB2("triggerEffects(createDep(effects),eventInfo)")\n\nB1--\x3eB12("triggerEffects(createDep(effects),eventInfo)")\nB2--\x3eB13("triggerEffects(deps[0], eventInfo)")\n\nB12--\u904d\u5386dep\u4e2d\u7684effect\u9010\u4e00triggerEffect\u6765\u6267\u884c\u526f\u4f5c\u7528--\x3eB3("triggerEffect(effect,debuggerEventExtraInfo)")\nB13--\u904d\u5386dep\u4e2d\u7684effect\u9010\u4e00triggerEffect\u6765\u6267\u884c\u526f\u4f5c\u7528--\x3eB3("triggerEffect(effect,debuggerEventExtraInfo)")\n\n%% B3("effect.scheduler()\u6b63\u5f0f\u6267\u884c\u526f\u4f5c\u7528")--\u8c03\u5ea6\u6267\u884c--\x3eC1\nB3("effect.scheduler()\u6b63\u5f0f\u6267\u884c\u526f\u4f5c\u7528")--\u8c03\u5ea6\u6267\u884c--\x3eC3\n\n%% C1("queueJob(job)")--\x3eC2("queueFlush()")--\x3eC3("flushJobs(seen)\u91cd\u70b9")--\u5faa\u73afqueue--\x3eC4("callWithErrorHandling(job,null,14),job\u5c31\u662feffect.run()")--\u5f00\u59cb\u8d70\u6e32\u67d3\u6d41\u7a0b--\x3eZ1\n\nC3("flushJobs(seen)\u91cd\u70b9")--\u5faa\u73afqueue--\x3eC4("callWithErrorHandling(job,null,14),job\u5c31\u662feffect.run()")--\u5f00\u59cb\u8d70\u6e32\u67d3\u6d41\u7a0b--\x3eZ1\n\n%% \u6e32\u67d3\u6d41\u7a0b\nZ1("componentUpdateFn()")--1\u521b\u5efavnode--\x3eV3("renderComponentRoot(instance)\u8fd4\u56devnode")--\x3eV4\n\nV4("render.call(proxyToUse,..)\u8c03\u7528ast\u751f\u6210\u7684render\u751f\u6210vnode")--\x3eC41("\u6267\u884cast render\u51fd\u6570\u4e5f\u4f1a\u89e6\u53d1\u4f9d\u8d56\u6536\u96c6")\n\nZ1--2\u521b\u5efa\u597dvnode:nextTree--\x3eD1("\u8c03\u7528patch(prevTree,nextTree)\u8fdb\u884c\u6e32\u67d3")--case:shapeFlag&1--\x3eD12("processElement")--A\u66f4\u65b0dom\u5143\u7d20--\x3eD2("\u91cd\u70b9patchElement(n1,n2,parentComponent,parentSuspense,")--"if(dynamicChildren)"--\x3eE1("patchBlockChildren(n1.dynamicChildren,dynamicChildren,el)")--\x3eE2("patch(oldVNode,newVNode,container,null,parentComponent")\n\nD12--B\u521d\u59cb\u5316\u903b\u8f91--\x3eD3("mountElement(n2, container")\n\n%%("mountElement(n2, container")\n\nZ1--3\u6e32\u67d3\u5b8c\u6bd5\u6700\u540e--\x3eZ2("\u5904\u7406\u751f\u547d\u5468\u671f\u51fd\u6570")'}),(0,a.kt)("p",null,"\u66f4\u65b0\u7684\u65f6\u5019\u4ee5\u5904\u7406\u6587\u672c\u8282\u70b9\u4e3a\u4f8b\u5b50"),(0,a.kt)("mermaid",{value:'flowchart TD\nE1("patchBlockChildren(n1.dynamicChildren,dynamicChildren,el)")--\x3eA1("patch(oldVNode,newVNode,container,null,parentComponent")--"\u4ee5\u6587\u672c\u8282\u70b9\u4e3a\u4f8b:case Text"--\x3eA2("processText(n1,n2,container,anchor)")--"n2.children!==n1.children"--\x3eA3("hostSetText(el,n2.children)")--\x3eA4("setText:(node, text) => {node.nodeValue = text;}\u9875\u9762\u6587\u672c\u6539\u53d8\u4e86")'}),(0,a.kt)("h3",{id:"\u6d41\u7a0b\u89e3\u6790\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u70b9-\u521d\u59cb\u5316\u7684\u65f6\u5019instancedata"},"\u6d41\u7a0b\u89e3\u6790:\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u70b9\uff1a \u521d\u59cb\u5316\u7684\u65f6\u5019instance.data"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"console.log('start\u54cd\u5e94\u5f0f=>a:applyOptions-\u8c03\u7528reactive,\u91cd\u70b9\uff0c\u54cd\u5e94\u5f0f\u8d4b\u503c\u7ed9\u5b9e\u4f8b\u7684data', 'color:magenta')\n\ninstance.data = reactive(data);\n")),(0,a.kt)("h3",{id:"\u6d41\u7a0b\u89e3\u6790\u7b2c1\u6b65\u6240\u4ee5\u526f\u4f5c\u7528set\u7684\u4fee\u6539\u7684\u4e5f\u662finstancedata\u7684\u503c\u8fd9\u6837\u5c31\u751f\u6210\u7684\u65b0\u7684instance"},"\u6d41\u7a0b\u89e3\u6790:\u7b2c1\u6b65,\u6240\u4ee5\u526f\u4f5c\u7528set\u7684\u4fee\u6539\u7684\u4e5f\u662finstance.data\u7684\u503c,\u8fd9\u6837\u5c31\u751f\u6210\u7684\u65b0\u7684instance"),(0,a.kt)("p",null,"\u4e0b\u9762debugger\u53ef\u4ee5\u770b\u5230instance\u6570\u636e\u7ed3\u6784"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"    debugger\n    const nextTree = renderComponentRoot(instance);\n    {\n        endMeasure(instance, `render`);\n    }\n    // \u83b7\u53d6\u7ec4\u4ef6\u4e0a\u6b21\u6e32\u67d3\u7684 VNode\n    const prevTree = instance.subTree;\n    instance.subTree = nextTree;\n")),(0,a.kt)("p",null,"\u4f46\u662f\u6211\u76ee\u524d\u8fd8\u4e0d\u77e5\u9053\u591a\u4e2a\u7ec4\u4ef6\u5b83\u662f\u600e\u4e48\u5904\u7406instance.data\u7684\uff0c\u5f97\u6d4b\u8bd5\u4e00\u4e0b"),(0,a.kt)("h3",{id:"\u6d41\u7a0b\u89e3\u6790\u7b2c2\u6b65\u6267\u884crendercomponentroot\u4e5f\u5c31\u662frender\u51fd\u6570\u751f\u6210\u6700\u65b0\u7684vnode"},"\u6d41\u7a0b\u89e3\u6790:\u7b2c2\u6b65,\u6267\u884crenderComponentRoot,\u4e5f\u5c31\u662frender\u51fd\u6570\u751f\u6210\u6700\u65b0\u7684vnode"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"console.log('$ceffect.run==>\u8c03\u7528renderComponentRoot\uff0c\u83b7\u53d6\u7ec4\u4ef6\u6700\u65b0\u7684 VNode,render\u4f1a\u8bfb\u53d6\u7ec4\u4ef6\u7684\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u8fd9\u4f1a\u89e6\u53d1\u4f9d\u8d56\u6536\u96c6', 'color:chartreuse')\n\nconst nextTree = renderComponentRoot(instance);\n")),(0,a.kt)("h3",{id:"\u6d41\u7a0b\u89e3\u6790\u7b2c3\u6b65\u6267\u884cpatch-\u8d70diff\u6d41\u7a0b"},"\u6d41\u7a0b\u89e3\u6790:\u7b2c3\u6b65,\u6267\u884cpatch \u8d70diff\u6d41\u7a0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const componentUpdateFn = () => {\n    // \u7701\u7565...\n    console.log('$ceffect.run==>\u8c03\u7528renderComponentRoot\uff0c\u83b7\u53d6\u7ec4\u4ef6\u6700\u65b0\u7684 VNode,render\u4f1a\u8bfb\u53d6\u7ec4\u4ef6\u7684\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u8fd9\u4f1a\u89e6\u53d1\u4f9d\u8d56\u6536\u96c6', 'color:chartreuse')\n    const nextTree = renderComponentRoot(instance);\n    {\n        endMeasure(instance, `render`);\n    }\n    // \u83b7\u53d6\u7ec4\u4ef6\u4e0a\u6b21\u6e32\u67d3\u7684 VNode\n    const prevTree = instance.subTree;\n    instance.subTree = nextTree;\n    {\n        startMeasure(instance, `patch`);\n    }\n    console.log('effect.run==>:componentUpdateFn\u4e4bupdateComponent\u8c03\u7528patch \u51fd\u6570\u8fdb\u884c\u7ec4\u4ef6\u7684\u66f4\u65b0')\n    patch(prevTree, nextTree,\n        // parent may have changed if it's in a teleport\n        hostParentNode(prevTree.el),\n        // anchor may have changed if it's in a fragment\n        getNextHostNode(prevTree), instance, parentSuspense, isSVG);\n    // \u7701\u7565...\n")))}p.isMDXComponent=!0},1046:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/vue3-\u6784\u5efa\u7684\u65f6\u5019\u89e6\u53d1get-3566c76e00e252751c9fd8344378d72c.png"}}]);