"use strict";(self.webpackChunkprogramming_technology=self.webpackChunkprogramming_technology||[]).push([[9505],{3905:(n,e,t)=>{t.d(e,{Zo:()=>p,kt:()=>h});var o=t(67294);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(n,e){if(null==n)return{};var t,o,r=function(n,e){if(null==n)return{};var t,o,r={},a=Object.keys(n);for(o=0;o<a.length;o++)t=a[o],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)t=a[o],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var l=o.createContext({}),c=function(n){var e=o.useContext(l),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},p=function(n){var e=c(n.components);return o.createElement(l.Provider,{value:e},n.children)},d="mdxType",u={inlineCode:"code",wrapper:function(n){var e=n.children;return o.createElement(o.Fragment,{},e)}},f=o.forwardRef((function(n,e){var t=n.components,r=n.mdxType,a=n.originalType,l=n.parentName,p=s(n,["components","mdxType","originalType","parentName"]),d=c(t),f=r,h=d["".concat(l,".").concat(f)]||d[f]||u[f]||a;return t?o.createElement(h,i(i({ref:e},p),{},{components:t})):o.createElement(h,i({ref:e},p))}));function h(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var a=t.length,i=new Array(a);i[0]=f;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=n,s[d]="string"==typeof n?n:r,i[1]=s;for(var c=2;c<a;c++)i[c]=t[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}f.displayName="MDXCreateElement"},83176:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var o=t(87462),r=(t(67294),t(3905));const a={},i=void 0,s={unversionedId:"Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50/\u4f8b-2020-0527-\u5199\u4e00\u4e2a\u5f39\u5c42\u2014\u6a21\u6001\u548casync\u7236\u7ec4\u4ef6\u63a7\u5236\u663e\u793a",id:"Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50/\u4f8b-2020-0527-\u5199\u4e00\u4e2a\u5f39\u5c42\u2014\u6a21\u6001\u548casync\u7236\u7ec4\u4ef6\u63a7\u5236\u663e\u793a",title:"\u4f8b-2020-0527-\u5199\u4e00\u4e2a\u5f39\u5c42\u2014\u6a21\u6001\u548casync\u7236\u7ec4\u4ef6\u63a7\u5236\u663e\u793a",description:"00.\u4f7f\u7528\uff1a",source:"@site/programming-tech/Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50/\u4f8b-2020-0527-\u5199\u4e00\u4e2a\u5f39\u5c42\u2014\u6a21\u6001\u548casync\u7236\u7ec4\u4ef6\u63a7\u5236\u663e\u793a.md",sourceDirName:"Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50",slug:"/Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50/\u4f8b-2020-0527-\u5199\u4e00\u4e2a\u5f39\u5c42\u2014\u6a21\u6001\u548casync\u7236\u7ec4\u4ef6\u63a7\u5236\u663e\u793a",permalink:"/Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50/\u4f8b-2020-0527-\u5199\u4e00\u4e2a\u5f39\u5c42\u2014\u6a21\u6001\u548casync\u7236\u7ec4\u4ef6\u63a7\u5236\u663e\u793a",draft:!1,editUrl:"https://github.com/huiruo/programming-tech-website/edit/main/programming-tech/Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50/\u4f8b-2020-0527-\u5199\u4e00\u4e2a\u5f39\u5c42\u2014\u6a21\u6001\u548casync\u7236\u7ec4\u4ef6\u63a7\u5236\u663e\u793a.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"\u4f8b-2020-0520-vue\u6eda\u52a8\u8df3\u8f6c",permalink:"/Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50/\u4f8b-2020-0520-vue\u6eda\u52a8\u8df3\u8f6c"},next:{title:"\u4f8b-2020-0527\u4fee\u9970\u7b26 sync\u81ea\u5b9a\u4e49\u7ec4\u4ef6",permalink:"/Vue/vue2/vue2\u5f00\u53d1\u4f8b\u5b50/\u4f8b-2020-0527\u4fee\u9970\u7b26 sync\u81ea\u5b9a\u4e49\u7ec4\u4ef6"}},l={},c=[],p={toc:c},d="wrapper";function u(n){let{components:e,...t}=n;return(0,r.kt)(d,(0,o.Z)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"00.\u4f7f\u7528\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'    <base-filter :show-pop.sync="showPopParent" @getdata="getData2" ref="basefilter" />\n')),(0,r.kt)("p",null,"01.\u5f39\u5c42\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div class="container">\n    <div class="content">\n      <div class="select-content">\n        <div class="input-content" @click.stop="openValue">\n          <input v-model="selectValue" disabled type="text" placeholder="\u5168\u90e8" />\n        </div>\n        <div class="list-content" v-show="showPop">\n          <ul>\n            <li :class=\'active===index?"actived":""\' @click="getValue(index,item)" v-for="(item,index) in listData2" :key="index"><span class="li-text">\n                {{ item.keyWords }}\n              </span></li>\n          </ul>\n        </div>\n      </div>\n      <div style="margin-left:-10px;z-index:1002" @click.stop="openValue">\n        <span v-show="showPop" class="iconfont icon-arrowup"></span>\n        <span v-show="!showPop" class="iconfont icon-arrowdown"></span>\n      </div>\n      <div class="search-content">\n        <van-search background="background:#fff" shape="round" placeholder="\u6309\u5185\u5bb9\u641c\u7d22" v-model="searchVal" @search="onSearch">\n        </van-search>\n      </div>\n    </div>\n    <div class="mask" v-show="showPop"></div>\n  </div>\n</template>\n<script>\nimport { mapState } from \'vuex\'\nexport default {\n  name: \'BaseFilter\',\n  props: {\n    showPop: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      selectValue: \'\',\n      searchVal: \'\',\n      active: 0\n    }\n  },\n  watch: {\n    showPop(newVal) {\n      if (!newVal) {\n        this.$emit(\'update:showPop\', false)\n      }\n    }\n  },\n  computed: {\n    ...mapState({\n      listData2: state => state.tClassStore.baseFilterList\n    })\n  },\n  methods: {\n    //document\u4e8b\u4ef6\n    clickShow() {\n      if (this.showPop) {\n        this.$emit(\'update:showPop\', !this.showPop)\n      }\n    },\n    // \u641c\u7d22\n    onSearch(val) {\n      this.searchVal = val\n      this.selectValue = \'\u5168\u90e8\'\n      this.active = 0\n      // console.log(\'\u641c\u7d22\u6309\u94aekeyWords:\', val)\n      this.getdata(val, \'\')\n    },\n    openValue() {\n      this.$emit(\'update:showPop\', !this.showPop)\n    },\n    // \u4e0b\u62c9\u9009\u62e9\n    getValue(index, item) {\n      this.selectValue = item.keyWords\n      this.searchVal = \'\'\n      this.active = index\n      if (item.keyWords === \'\u5168\u90e8\') {\n        // console.log(\'\u5168\u90e8\')\n        this.getdata(\'\', \'\')\n      } else {\n        // console.log(\'\u975e\u5168\u90e8\')\n        // this.getdata(\'\', item.categoryCode)\n        this.getdata(\'\', [item.categoryCode])\n      }\n    },\n    getdata(val, categoryCode) {\n      // console.log(\'searche\u2014\u2014\u63d0\u4ea4\u7684\u6570\u636e\', this.formItem)\n      this.$emit(\'getdata\', { categoryCode: categoryCode, keyWords: val })\n    }\n  },\n  beforeDestroy() {\n    document.removeEventListener(\'click\', this.clickShow)\n  },\n  mounted() {\n    // 2020.0527 \u589e\u52a0\u70b9\u51fb\u4e8b\u4ef6\n    document.addEventListener(\'click\', this.clickShow)\n  }\n}\n<\/script>\n<style lang="less" scoped>\n.container {\n  display: flex;\n  // height: 80px;\n  // align-items: center;\n  // z-index: 99;\n  // padding-top: 5px;\n  // background: #fff;\n  .content {\n    height: 80px;\n    display: flex;\n    align-items: center;\n    padding-top: 5px;\n    background: #fff;\n    //\n    z-index: 9999;\n    position: fixed;\n    border-bottom: 1px #e5e5e5 solid;\n    width: 100%;\n  }\n  .select-content {\n    z-index: 1002;\n    flex: 3;\n    font-size: #333333;\n    .input-content {\n      height: 70px;\n      line-height: 70px;\n      padding-left: 40px;\n      position: relative;\n      // width: auto;\n      width: 150px;\n      input {\n        width: 100%;\n        border: none;\n        outline: none;\n        background: #fff;\n        font-size: 28px;\n      }\n      input::-webkit-input-placeholder {\n        color: #333333;\n        font-size: 28px;\n      }\n    }\n    .list-content {\n      width: 100%;\n      list-style: none;\n      overflow: hidden;\n      position: absolute;\n      z-index: 1001;\n      // margin-top: 11px;\n      // border-top: 1px grey solid;\n      .actived {\n        color: red;\n      }\n      ul {\n        z-index: 1002;\n        position: relative;\n        background: #ffffff;\n        li {\n          width: 100%;\n          height: 76px;\n          cursor: pointer;\n          line-height: 76px;\n          padding-left: 10px;\n          border-bottom: solid 4px #f8f8f8;\n          .li-text {\n            padding-left: 40px;\n          }\n        }\n        li:hover {\n          color: #fff;\n          background-color: #ff8688;\n          // background-color: yellow;\n        }\n      }\n    }\n  }\n  .search-content {\n    flex: 8;\n    /deep/ .van-cell {\n      background-color: #dfdfdf;\n    }\n  }\n  .mask {\n    position: fixed;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background: #333;\n    z-index: 999;\n    opacity: 0.3;\n  }\n}\n</style>\n')))}u.isMDXComponent=!0}}]);